@model RegisterViewModel

@{
    ViewData["Title"] = "Criar Conta";
    Layout = "_Layout";
}

<div class="min-h-screen flex items-center justify-center bg-primary-dark p-4">
    <div class="w-full max-w-md bg-secondary-dark p-8 md:p-10 rounded-xl shadow-2xl border border-gray-700">
        
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold gradient-text">Dyson.AI</h1>
            <p class="text-gray-400 mt-2">Crie sua conta em segundos.</p>
        </div>

        <!-- MetaMask Registration Button -->
        <div class="mb-6">
            <button 
                type="button" 
                onclick="loginWithMetaMask()" 
                class="w-full p-4 text-white font-bold rounded-lg bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 transition duration-300 shadow-lg shadow-orange-600/30 flex items-center justify-center space-x-3">
                <svg class="w-6 h-6" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M32.8 2L20 11.6L22.4 6.2L32.8 2Z" fill="#E17726"/>
                    <path d="M7.2 2L19.8 11.7L17.6 6.2L7.2 2Z" fill="#E27625"/>
                    <path d="M28 28.9L24.6 34.5L32 36.5L34.1 29.1L28 28.9Z" fill="#E27625"/>
                    <path d="M5.9 29.1L8 36.5L15.4 34.5L12 28.9L5.9 29.1Z" fill="#E27625"/>
                    <path d="M15 17.5L13.1 20.5L20.4 20.8L20.2 13L15 17.5Z" fill="#E27625"/>
                    <path d="M25 17.5L19.7 12.9L19.6 20.8L26.9 20.5L25 17.5Z" fill="#E27625"/>
                    <path d="M15.4 34.5L19.8 32.4L16 29.1L15.4 34.5Z" fill="#E27625"/>
                    <path d="M20.2 32.4L24.6 34.5L24 29.1L20.2 32.4Z" fill="#E27625"/>
                </svg>
                <span>Criar conta com MetaMask</span>
            </button>
            <p class="text-xs text-gray-400 mt-2 text-center">Rápido, seguro e sem necessidade de senha</p>
        </div>

        <!-- Divider -->
        <div class="relative mb-6">
            <div class="absolute inset-0 flex items-center">
                <div class="w-full border-t border-gray-700"></div>
            </div>
            <div class="relative flex justify-center text-sm">
                <span class="px-4 bg-secondary-dark text-gray-400">ou cadastre-se com e-mail</span>
            </div>
        </div>

        <!-- Traditional Registration Form -->
        <form asp-controller="Account" asp-action="Register" method="post">
            
            <div asp-validation-summary="ModelOnly" class="text-red-400 text-sm mb-4 p-3 rounded-lg bg-red-900/30 border border-red-800"></div>

            <!-- Campo Nome Completo -->
            <div class="mb-5">
                <label asp-for="FullName" class="block text-sm font-medium text-gray-300 mb-2">Nome Completo</label>
                <input asp-for="FullName" type="text" class="w-full p-3 rounded-lg bg-primary-dark border border-gray-700 focus:border-accent-blue focus:ring-accent-blue text-white transition duration-200" placeholder="Seu nome" autocomplete="name" />
                <span asp-validation-for="FullName" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Campo E-mail -->
            <div class="mb-5">
                <label asp-for="Email" class="block text-sm font-medium text-gray-300 mb-2">E-mail</label>
                <input asp-for="Email" type="email" class="w-full p-3 rounded-lg bg-primary-dark border border-gray-700 focus:border-accent-blue focus:ring-accent-blue text-white transition duration-200" placeholder="seu.email@exemplo.com" autocomplete="email" />
                <span asp-validation-for="Email" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Campo Senha -->
            <div class="mb-5">
                <label asp-for="Password" class="block text-sm font-medium text-gray-300 mb-2">Senha</label>
                <input asp-for="Password" type="password" class="w-full p-3 rounded-lg bg-primary-dark border border-gray-700 focus:border-accent-blue focus:ring-accent-blue text-white transition duration-200" placeholder="Mínimo 6 caracteres" autocomplete="new-password" />
                <span asp-validation-for="Password" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Campo Confirmar Senha -->
            <div class="mb-6">
                <label asp-for="ConfirmPassword" class="block text-sm font-medium text-gray-300 mb-2">Confirme a Senha</label>
                <input asp-for="ConfirmPassword" type="password" class="w-full p-3 rounded-lg bg-primary-dark border border-gray-700 focus:border-accent-blue focus:ring-accent-blue text-white transition duration-200" placeholder="Repita a senha" />
                <span asp-validation-for="ConfirmPassword" class="text-red-400 text-xs mt-1 block"></span>
            </div>

            <!-- Botão de Cadastro -->
            <button type="submit" class="w-full p-3 mb-4 text-white font-bold rounded-lg bg-gradient-button hover:opacity-90 transition duration-300 shadow-md shadow-purple-600/30">
                Criar Conta
            </button>
        </form>

        <!-- Link para Login -->
        <div class="text-center mt-6">
            <p class="text-sm text-gray-400">
                Já tem uma conta? 
                <a asp-controller="Account" asp-action="Login" class="text-accent-blue hover:text-white font-medium transition duration-200">
                    Acesse aqui
                </a>
            </p>
        </div>

        <!-- Benefits of MetaMask -->
        <div class="mt-6 p-4 bg-primary-dark rounded-lg border border-gray-700">
            <p class="text-xs font-medium text-gray-300 mb-2">Por que usar MetaMask?</p>
            <ul class="text-xs text-gray-400 space-y-1">
                <li class="flex items-start">
                    <svg class="w-4 h-4 text-green-500 mr-2 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    <span>Sem necessidade de lembrar senhas</span>
                </li>
                <li class="flex items-start">
                    <svg class="w-4 h-4 text-green-500 mr-2 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    <span>Segurança blockchain de ponta</span>
                </li>
                <li class="flex items-start">
                    <svg class="w-4 h-4 text-green-500 mr-2 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    <span>Acesso rápido com um clique</span>
                </li>
            </ul>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script src="~/js/metamask-auth.js"></script>
}